#Использовать asserts
#Использовать ".."
#Использовать "."

&ТестовыйНабор
Процедура ПриСозданииОбъекта() Экспорт
КонецПроцедуры

&Тест
Процедура ТестПарсингаПростогоYAML() Экспорт
    // Дано
    СодержимоеФайла = ТестовыеУтилиты.ПрочитатьТекстФайла(ТестовыеУтилиты.ПолучитьПутьКТестовымДанным("simple.yaml"));
    ЧтениеYaml = ТестовыеУтилиты.СоздатьЭкземплярПарсера();
    
    // Когда
    Результат = ЧтениеYaml.Прочитать(СодержимоеФайла);
    
    // Тогда
    Ожидаем.Что(Результат).Не_().ЭтоНеопределено();
    Ожидаем.Что(Результат.Получить("name")).Равно("John Doe");
    Ожидаем.Что(Результат.Получить("age")).Равно(30);
    Ожидаем.Что(Результат.Получить("active")).Равно(Истина);
КонецПроцедуры

&Тест
Процедура ТестПустойСтроки() Экспорт
    // Дано
    ЧтениеYaml = ТестовыеУтилиты.СоздатьЭкземплярПарсера();
    
    // Когда
    Результат = ЧтениеYaml.Прочитать("");
    
    // Тогда
    Ожидаем.Что(Результат).Не_().ЭтоНеопределено();
    Ожидаем.Что(Результат.Количество()).Равно(0);
КонецПроцедуры

&Тест
Процедура ТестПарсингаСКомментариями() Экспорт
    // Дано
    СодержимоеФайла = ТестовыеУтилиты.ПрочитатьТекстФайла(ТестовыеУтилиты.ПолучитьПутьКТестовымДанным("comments.yaml"));
    ЧтениеYaml = ТестовыеУтилиты.СоздатьЭкземплярПарсера();
    
    // Когда
    Результат = ЧтениеYaml.Прочитать(СодержимоеФайла);
    
    // Тогда
    Ожидаем.Что(Результат).Не_().ЭтоНеопределено();
    Ожидаем.Что(Результат.Получить("key1")).Равно("value1");
    Ожидаем.Что(Результат.Получить("key2")).Равно("value2");
    Ожидаем.Что(Результат.Получить("key3")).Равно("value3");
КонецПроцедуры

